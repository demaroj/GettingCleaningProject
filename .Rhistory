temp <- tempfile()
zipfile <- "https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip"
download.file(zipfile,temp)
temp
ls temp
library(plyr)
library(plyr)
temp <- tempfile()
zipfile <- "https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip"
download.file(zipfile,temp)
temp
install.packages("plyr")
read.txt.zip <- function(zipfile <- "https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip", pattern="\\.txt$", ...){
# Create a name for the dir where we'll unzip
zipdir <- tempfile()
# Create the dir using that name
dir.create(zipdir)
# Unzip the file into the dir
unzip(zipfile, exdir=zipdir)
# Get a list of csv files in the dir
files <- list.files(zipdir, rec=TRUE, pattern=pattern)
# Create a list of the imported csv files
txt.data <- sapply(files,
function(f){
fp <- file.path(zipdir, f)
dat <- fread(fp, ...)
return(dat)
}
)
# Use csv names to name list elements
names(txt.data) <- basename(files)
# Return data
return(txt.data)
}
read.txt.zip <- function("https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip", pattern="\\.txt$", ...){
# Create a name for the dir where we'll unzip
zipdir <- tempfile()
# Create the dir using that name
dir.create(zipdir)
# Unzip the file into the dir
unzip(zipfile, exdir=zipdir)
# Get a list of csv files in the dir
files <- list.files(zipdir, rec=TRUE, pattern=pattern)
# Create a list of the imported csv files
txt.data <- sapply(files,
function(f){
fp <- file.path(zipdir, f)
dat <- fread(fp, ...)
return(dat)
}
)
# Use csv names to name list elements
names(txt.data) <- basename(files)
# Return data
return(txt.data)
}
zipfile<-"https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip"
read.txt.zip <- function(zipfile, pattern="\\.txt$", ...){
# Create a name for the dir where we'll unzip
zipdir <- tempfile()
# Create the dir using that name
dir.create(zipdir)
# Unzip the file into the dir
unzip(zipfile, exdir=zipdir)
# Get a list of csv files in the dir
files <- list.files(zipdir, rec=TRUE, pattern=pattern)
# Create a list of the imported csv files
txt.data <- sapply(files,
function(f){
fp <- file.path(zipdir, f)
dat <- fread(fp, ...)
return(dat)
}
)
# Use csv names to name list elements
names(txt.data) <- basename(files)
# Return data
return(txt.data)
}
zipfile<-"https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip"
read.txt.zip <- function(zipfile, pattern="\\.txt$", ...){
# Create a name for the dir where we'll unzip
zipdir <- tempfile()
# Create the dir using that name
dir.create(zipdir)
# Unzip the file into the dir
unzip(zipfile, exdir=zipdir)
# Get a list of csv files in the dir
files <- list.files(zipdir, rec=TRUE, pattern=pattern)
# Create a list of the imported csv files
txt.data <- sapply(files,
function(f){
fp <- file.path(zipdir, f)
dat <- fread(fp, ...)
return(dat)
}
)
# Use csv names to name list elements
names(txt.data) <- basename(files)
# Return data
return(txt.data)
}
zipfile<-"https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip"
read.txt.zip <- function(zipfile, pattern="\\.txt$", ...){
# Create a name for the dir where we'll unzip
zipdir <- tempfile
# Create the dir using that name
dir.create(zipdir)
# Unzip the file into the dir
unzip(zipfile, exdir=zipdir)
# Get a list of csv files in the dir
files <- list.files(zipdir, rec=TRUE, pattern=pattern)
# Create a list of the imported csv files
txt.data <- sapply(files,
function(f){
fp <- file.path(zipdir, f)
dat <- fread(fp, ...)
return(dat)
}
)
# Use csv names to name list elements
names(txt.data) <- basename(files)
# Return data
return(txt.data)
}
head(zipfile<-"https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip")
read.txt.zip <- function(zipfile, pattern="\\.txt$", ...){
# Create a name for the dir where we'll unzip
zipdir <- tempfile()
# Create the dir using that name
dir.create(zipdir)
# Unzip the file into the dir
unzip(zipfile, exdir=zipdir)
# Get a list of csv files in the dir
files <- list.files(zipdir, rec=TRUE, pattern=pattern)
# Create a list of the imported csv files
txt.data <- sapply(files,
function(f){
fp <- file.path(zipdir, f)
dat <- fread(fp, ...)
return(dat)
}
)
# Use csv names to name list elements
names(txt.data) <- basename(files)
# Return data
return(txt.data)
}
head(zipfile<-"https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip")
read.txt.zip <- function(zipfile, ...) {
# Create a name for the dir where we'll unzip
zipdir <- tempfile()
# Create the dir using that name
dir.create(zipdir)
# Unzip the file into the dir
unzip(zipfile, exdir=zipdir)
# Get a list of csv files in the dir
files <- list.files(zipdir)
files <- files[grep("\\.csv$", files)]
# Create a list of the imported csv files
txt.data <- sapply(files, function(f) {
fp <- file.path(zipdir, f)
return(read.txt(fp, ...))
})
return(txt.data)}
ls(zipdir)
head(zipfile<-"https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip")
read.txt.zip <- function(zipfile, ...) {
# Create a name for the dir where we'll unzip
zipdir <- tempfile()
# Create the dir using that name
dir.create(zipdir)
# Unzip the file into the dir
unzip(zipfile, exdir=zipdir)
# Get a list of csv files in the dir
files <- list.files(zipdir)
files <- files[grep("\\.csv$", files)]
# Create a list of the imported csv files
txt.data <- sapply(files, function(f) {
fp <- file.path(zipdir, f)
return(read.txt(fp, ...))
})
ls(zipdir)
return(txt.data)}
URL <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv"
URL <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv"
con=url(URL)
csvData=(read.csv(con))
close(con)
newset<-strsplit(names(csvData),"wgtp")
newset
head(zipfile<-"https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip")
read.txt.zip <- function(zipfile, pattern="\\.txt$", ...){
# Create a name for the dir where we'll unzip
zipdir <- tempfile()
# Create the dir using that name
dir.create(zipdir)
# Unzip the file into the dir
unzip(zipfile, exdir=zipdir)
# Get a list of csv files in the dir
files <- list.files(zipdir, rec=TRUE, pattern=pattern)
# Create a list of the imported csv files
txt.data <- sapply(files,
function(f){
fp <- file.path(zipdir, f)
dat <- fread(fp, ...)
return(dat)
}
)
# Use csv names to name list elements
names(txt.data) <- basename(files)
# Return data
return(txt.data)
}
# Return data
return(txt.data)
head(zipfile<-"https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip")
read.txt.zip <- function(zipfile, pattern="\\.txt$", ...){
# Create a name for the dir where we'll unzip
zipdir <- tempfile()
# Create the dir using that name
dir.create(zipdir)
# Unzip the file into the dir
unzip(zipfile, exdir=zipdir)
# Get a list of csv files in the dir
files <- list.files(zipdir, rec=TRUE, pattern=pattern)
# Create a list of the imported csv files
txt.data <- sapply(files,
function(f){
fp <- file.path(zipdir, f)
dat <- fread(fp, ...)
return(dat)
}
)
# Use csv names to name list elements
names(txt.data) <- basename(files)
# Return data
return(txt.data)
}
#install.packages("plyr")
library(plyr)
temp <- tempfile()
zipfile <- "https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip"
download.file(zipfile,temp)
head(temp)
unzip(zipfile, list = TRUE)
#install.packages("plyr")
library(plyr)
zipfile <- "https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip"
download.file(zipfile, tf <- tempfile(fileext = ".zip"))
unzip(tf, exdir = td <- file.path(tempdir(), "myzip"))
(list.files(td, full.names = TRUE, recursive = TRUE))
list(tempdir())
x_testdata <- read.table(file.path(tempdir(), "/myzip/UCI HAR Dataset/test/X_test.txt"))
head(x_testdata)
source('C:/RPrograms/GettingCleaningProject/GettingCleaningData/GettingCleaningScript.R')
library(plyr)
zipfile <- "https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip"
download.file(zipfile, tf <- tempfile(fileext = ".zip"))
unzip(tf, exdir = td <- file.path(tempdir(), "myzip"))
(list.files(td, full.names = TRUE, recursive = TRUE))
#list(tempdir())
x_testdata <- read.table(file.path(tempdir(), "/myzip/UCI HAR Dataset/test/X_test.txt"))
x_traindata <- read.table(file.path(tempdir(), "/myzip/UCI HAR Dataset/train/X_train.txt"))
y_testdata <- read.table(file.path(tempdir(), "/myzip/UCI HAR Dataset/test/y_test.txt"))
y_traindata <- read.table(file.path(tempdir(), "/myzip/UCI HAR Dataset/train/y_train.txt"))
subject_testdata <- read.table(file.path(tempdir(), "/myzip/UCI HAR Dataset/test/subject_test.txt"))
subject_traindata <- read.table(file.path(tempdir(), "/myzip/UCI HAR Dataset/train/subject_train.txt"))
head(x_testdata)
head(y_traindata)
head(subject_testdata)
str(subject_testdata)
str x_testdata
str(x_testdata)
str(y_testdata)
str(y_testdata)
str(y_traindata)
str(x_traindata)
str(x_traindata)
xmerge <- merge(x_testdata, subject_testdata)
head(xmerge)
xmerge <- merge(x_testdata, subject_testdata, y_testdata)
str(xmerge)
xmerge <- merge(xmerge, y_testdata)
head(xmerge)
str(xmerge)
testdata <= colbind(subject_testdata, y_testdata, x_testdata)
testdata <- colbind(subject_testdata, y_testdata, x_testdata)
testdata <- cbind(subject_testdata, y_testdata, x_testdata)
head(testdata)
head(testdata[5, 10])
head(testdata[1, 10])
head(testdata[1, 1])
source('C:/RPrograms/GettingCleaningProject/GettingCleaningData/GettingCleaningScript.R')
#install.packages("plyr")
library(plyr)
zipfile <- "https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip"
download.file(zipfile, tf <- tempfile(fileext = ".zip"))
unzip(tf, exdir = td <- file.path(tempdir(), "myzip"))
(list.files(td, full.names = TRUE, recursive = TRUE))
#list(tempdir())
x_testdata <- read.table(file.path(tempdir(), "/myzip/UCI HAR Dataset/test/X_test.txt"))
x_traindata <- read.table(file.path(tempdir(), "/myzip/UCI HAR Dataset/train/X_train.txt"))
y_testdata <- read.table(file.path(tempdir(), "/myzip/UCI HAR Dataset/test/y_test.txt"))
y_traindata <- read.table(file.path(tempdir(), "/myzip/UCI HAR Dataset/train/y_train.txt"))
subject_testdata <- read.table(file.path(tempdir(), "/myzip/UCI HAR Dataset/test/subject_test.txt"))
subject_traindata <- read.table(file.path(tempdir(), "/myzip/UCI HAR Dataset/train/subject_train.txt"))
testdata <- cbind(subject_testdata, y_testdata, x_testdata)
traindata <-cbind(subject_traindata, y_traindata, x_traindata)
dataset <- rbind(testdata, traindata)
source('C:/RPrograms/GettingCleaningProject/GettingCleaningData/GettingCleaningScript.R')
head(dataset)
str(dataset)
str(dataset)
colLabels <- read.table(file.path(tempdir(), "/myzip/UCI HAR Dataset/features.txt"))
head(colLabels)
colLabels <- rbind("subject", "Y", colLabels)
head(colLabels)
source('C:/RPrograms/GettingCleaningProject/GettingCleaningData/GettingCleaningScript.R')
source('C:/RPrograms/GettingCleaningProject/GettingCleaningData/GettingCleaningScript.R')
#install.packages("plyr")
library(plyr)
zipfile <- "https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip"
download.file(zipfile, tf <- tempfile(fileext = ".zip"))
unzip(tf, exdir = td <- file.path(tempdir(), "myzip"))
x_testdata <- read.table(file.path(tempdir(), "/myzip/UCI HAR Dataset/test/X_test.txt"))
x_traindata <- read.table(file.path(tempdir(), "/myzip/UCI HAR Dataset/train/X_train.txt"))
y_testdata <- read.table(file.path(tempdir(), "/myzip/UCI HAR Dataset/test/y_test.txt"))
y_traindata <- read.table(file.path(tempdir(), "/myzip/UCI HAR Dataset/train/y_train.txt"))
subject_testdata <- read.table(file.path(tempdir(), "/myzip/UCI HAR Dataset/test/subject_test.txt"))
subject_traindata <- read.table(file.path(tempdir(), "/myzip/UCI HAR Dataset/train/subject_train.txt"))
colLabels <- read.table(file.path(tempdir(), "/myzip/UCI HAR Dataset/features.txt"))
x_testdata <- colnames(x_testdata, colLabels)
head(colLabels)
x_testdata <- colnames(x_testdata, colLabels[,2])
x_testdata <- lapply(x_testdata, `colnames<-`, colLabels[,2])
x_testdata <- lapply(x_testdata, `colnames<-`, colLabels[2,])
testdata <- cbind(subject_testdata, y_testdata, x_testdata)
colLabels <- colLabels[V2]
colLabels <- colLabels[,2]
head(colLabels)
x_testdata <- lapply(x_testdata, `colnames<-`, colLabels)
x_testdata <- lapply(x_testdata, setNames, colLabels)
head(x_testdata)
head(x_testdata, 1)
head(x_testdata[1,1])
head(x_testdata[1,])
head(x_testdata[1])
write.csv(x_testdata, file="c:\\temp\\xtestdata.csv")
x_testdata <- lapply(x_testdata, setNames, colLabels)
write.csv(x_testdata, file="c:\\temp\\xtestdata.csv")
head(colLabels)
colLabels <- read.table(file.path(tempdir(), "/myzip/UCI HAR Dataset/features.txt"))
head(colLabels)
str(colLabels)
colLabels <- colLabels[,2]
str(colLabels)
write.csv(colLabels, file="c:\\temp\\colLabels.csv")
colnames(x_testdata) <- c(colLabels[,2])
colnames(x_testdata) <- c(colLabels[[V2]])
colnames(x_testdata) <- c(colLabels[[x]])
head(colLabels)
colnames(x_testdata) <- c(colLabels)
colList <- c(colLabels)
head(colList)
head(colList,600)
x_testdata <- rbind(x_testdata, colLabels[,2])
x_testdata <- rbind(x_testdata, c(colLabels[,2]))
x_testdata <- rbind(x_testdata, c(colLabels[,1]))
colList <- c(colLabels)
head(colList,600)
colList <- c(colLabels[[]])
colList <- c(colLabels[[x]])
colLabels <- read.table(file.path(tempdir(), "/myzip/UCI HAR Dataset/features.txt"))
head(colLabels)
head(colLabels[[V2]])
View(colLabels)
View(colLabels[,2])
View(c(colLabels[,2]))
View(c(colLabels[[,2]]))
View(colLabels[,2])
source('C:/RPrograms/GettingCleaningProject/GettingCleaningData/GettingCleaningScript.R')
colLabels <- read.table(file.path(tempdir(), "/myzip/UCI HAR Dataset/features.txt"))
x_testdata <- read.table(file.path(tempdir(), "/myzip/UCI HAR Dataset/test/X_test.txt"), col.names=colLabels)
colLabels <- read.table(file.path(tempdir(), "/myzip/UCI HAR Dataset/features.txt"))
colList <- c(colLabels[,2])
x_testdata <- read.table(file.path(tempdir(), "/myzip/UCI HAR Dataset/test/X_test.txt"), col.names=colList)
write.csv(x_testdata, file="c:\\temp\\xtestdata.csv")
colList <- c(colLabels[[,2]])
head(colLabels)
colList <- c(colLabels[,3])
colList <- c(grep(colLabels[,2]))
colList <- c((colLabels[,2]))
head(colLabels)
head(colList)
colList <- c((colLabels[,1]))
head(colList)
colList <- c(String(colLabels[,2]))
head(colLabels[2,2])
head(colList[2,2])
colList <- c((colLabels[,2]))
head(colList[2,2])
head(colList[1,2])
head(colList[,2])
head(colList)
View(colLabels)
head(colLabels[1,2])
head(colLabels[1,10])
head(colLabels[1,561])
source('C:/RPrograms/GettingCleaningProject/GettingCleaningData/GettingCleaningScript.R')
